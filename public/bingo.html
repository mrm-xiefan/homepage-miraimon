<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Bingo!</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="vendor/jqueryUI/jquery-ui.css">

    <link rel="stylesheet" href="css/AdminLTE.css">
    <link rel="stylesheet" href="css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="css/bingo.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body class="hold-transition skin-blue layout-top-nav fixed">
<div class="wrapper" id="bingo">
    <header class="main-header">
        <nav class="navbar navbar-static-top">
            <div class="container">

                <div class="navbar-header">
                    <img src="img/favicon.ico" style="width: 50px; margin-right: 10px">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                        <i class="fa fa-bars"></i>
                    </button>
                </div>
                <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="javascript:bingo.openHomepage();"><i class="fa fa-home" style="margin-right: 10px"></i>未来夢株式会社</a></li>
                    </ul>
                </div>

                <div class="navbar-custom-menu" id="controller">
                    <ul class="nav navbar-nav">
                        <li v-if="bingo.vm.common.isOwner" data-toggle="tooltip" title="番号を引く">
                            <a href="javascript:bingo.vm.controller.draw();">
                                <i class="fa fa-hand-lizard-o"></i>
                            </a>
                        </li>
                    </ul>
                </div>

            </div>
        </nav>
    </header>

    <div class="content-wrapper" onclick="bingo.closeSidePanel();">
        <section class="content">
            <div class="login-box" id="user-info-input" v-if="user.name == ''">
                <div class="login-box-body">
                    <p class="login-box-msg">
                        お名前を入力してください。
                    </p>

                    <div class="form-group has-feedback">
                        <input id="user-input-box" class="form-control" placeholder="Please input your name..." v-model.trim="inputName" @keyup.enter="login()">
                        <span class="fa fa-user form-control-feedback"></span>
                    </div>
                    <div class="row">
                        <div class="col-xs-8">
                            <template v-if="inputCheck == '0001'">
                                <i class="fa fa-warning text-red"></i>
                                {{checkMessage}}
                            </template>
                            <template v-if="inputCheck == '0002'">
                                <i class="fa fa-info-circle text-yellow"></i>
                                {{checkMessage}}
                            </template>
                            <template v-if="inputCheck == '0003'">
                                <i class="fa fa-check-circle text-green"></i>
                                {{checkMessage}}
                            </template>
                        </div>
                        <div class="col-xs-4">
                            <button class="btn btn-primary" v-on:click="login()" v-bind:disabled="inputCheck == '0001'">ログイン</button>
                        </div>
                    </div>
                </div>
                <div class="login-box-body" v-if="hasSelection">
                    <p class="login-box-msg">
                        オフライン中
                    </p>
                    <table class="table table-hover">
                        <tr v-for="user in getSelection()" class="cursor-pointer" v-on:click="select(user.name)">
                            <td style="width: 100px;">{{user.roomname}}</td>
                            <td><i class="fa fa-check-circle-o pull-right" v-if="user.name == inputName"></i>{{user.name}}</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="login-box" id="room-info-input" v-if="isDisplay">
                <div class="login-box-body">
                    <p class="login-box-msg">
                        ゲーム名を入力してください。
                    </p>

                    <div class="form-group has-feedback">
                        <input id="room-input-box" class="form-control" placeholder="Please input game name..." v-model.trim="inputName" @keyup.enter="join()">
                        <span class="fa fa-fa-gamepad form-control-feedback"></span>
                    </div>
                    <div class="row">
                        <div class="col-xs-8">
                            {{gameStatus}}
                        </div>
                        <div class="col-xs-4">
                            <button id="join-button" class="btn btn-primary" v-on:click="join()" v-bind:disabled="inputCheck == '0001'">{{buttonTitle}}</button>
                        </div>
                    </div>
                </div>
                <div class="login-box-body" v-if="hasSelection">
                    <p class="login-box-msg">
                        準備中のゲーム
                    </p>
                    <table class="table table-hover">
                        <tr v-for="room in getSelection()" class="cursor-pointer" v-on:click="select(room.name)">
                            <td style="width: 200px;">{{room.name}}</td>
                            <td><i class="fa fa-check-circle-o pull-right" v-if="room.name == inputName"></i>{{room.members.length}}人参加中</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="row" id="bingo-panel" v-if="isDisplay">
                <div class="col-sm-6">
                    <div class="box box-solid bg-purple">
                        <div class="box-header">
                            <h3 class="box-title"><i class="fa fa-th"></i> {{user.name}}のカード</h3>
                            <img src="./img/reach.png" class="reach" v-if="reach(getMyMember()) > 0">
                        </div>
                        <div class="box-body card-bg">
                            <div class="card-square" v-for="number in getMyMember().card">
                                <img src="./img/square.png" class="square-bg">
                                <template v-if="number == '99'">
                                    <img src="img/hole.png" class="square-hole">
                                </template>
                                <template v-else-if="isHit(number)">
                                    <img src="img/hole.png" class="square-hole">
                                    <img v-bind:src="getLeftNumber(number, true)" class="square-left">
                                    <img v-bind:src="getRightNumber(number, true)" class="square-right">
                                </template>
                                <template v-else>
                                    <img v-bind:src="getLeftNumber(number, false)" class="square-left">
                                    <img v-bind:src="getRightNumber(number, false)" class="square-right">
                                </template>
                            </div>
                            <img src="./img/light1.png" class="bingo-effect1 fa-spin" v-if="bingo(getMyMember()) > 0">
                            <img src="./img/light2.png" class="bingo-effect2 obj-spin-reverse" v-if="bingo(getMyMember()) > 0">
                            <img src="./img/bingo.png" class="bingo-front" v-if="bingo(getMyMember()) > 0">
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="box box-solid bg-purple card-list" v-for="member in getOtherMembers()">
                        <div class="box-header">
                            <h3 class="box-title"><i class="fa fa-th"></i> {{member.name}}のカード</h3>
                            <img src="./img/reach.png" class="reach" v-if="reach(member) > 0">
                        </div>
                        <div class="box-body card-bg">
                            <div class="card-square-mini" v-for="number in member.card">
                                <img src="./img/square.png" class="square-bg">
                                <template v-if="number == '99'">
                                    <img src="img/hole.png" class="square-hole">
                                </template>
                                <template v-else>
                                    <img v-bind:src="getLeftNumber(number)" class="square-left">
                                    <img v-bind:src="getRightNumber(number)" class="square-right">
                                </template>
                            </div>
                            <img src="./img/light1.png" class="bingo-effect1 fa-spin" v-if="bingo(member) > 0">
                            <img src="./img/light2.png" class="bingo-effect2 obj-spin-reverse" v-if="bingo(member) > 0">
                            <img src="./img/bingo.png" class="bingo-front" v-if="bingo(member) > 0">
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <aside class="control-sidebar control-sidebar-light">
        <div class="sidebar-header">
            <button type="button" class="btn btn-md btn-primary" onclick="boardVM.cart.pasteAll()">Paste all photos to board</button>
        </div>
        <div id="photo-cart">
            <cart-images v-for="image in carting" :image="image"></cart-images>
        </div>
    </aside>
    <div class="control-sidebar-bg"></div>
</div>



<script type="text/javascript" src="vendor/vue/vue.min.js"></script>
<script type="text/javascript" src="vendor/jquery/jquery.min.js"></script>
<script type="text/javascript" src="vendor/jqueryUI/jquery-ui.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
    $.widget.bridge('uibutton', $.ui.button);
</script>
<script type="text/javascript" src="vendor/bootstrap/js/bootstrap.js"></script>
<script type="text/javascript" src="vendor/slimScroll/jquery.slimscroll.min.js"></script>
<!--<script type="text/javascript" src="./plugins/jQueryUI/jquery.ui.touch-punch.js"></script>-->
<!--<script type="text/javascript" src="./plugins/masonry/masonry.pkgd.min.js"></script>
<script type="text/javascript" src="./plugins/knob/jquery.knob.js"></script>-->
<!--<script type="text/javascript" src="./plugins/datatables/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="./plugins/datatables/dataTables.bootstrap.min.js"></script>-->
<!--
<script type="text/javascript" src="http://localhost:8000/socket.io/socket.io.js"></script>
-->
<!--<script type="text/javascript" src="./plugins/html2canvas/html2canvas.js"></script>
<script type="text/javascript" src="./plugins/masonry/masonry.pkgd.min.js"></script>
<script type="text/javascript" src="./plugins/colorpicker/bootstrap-colorpicker.js"></script>-->
<script type="text/javascript" src="vendor/socket.io/socket.io.min.js"></script>
<!--<script type="text/javascript" src="./plugins/hammerjs/hammer.js"></script>
<script type="text/javascript" src="./plugins/hammerjs/hammer-time.js"></script>-->
<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/bingo.js"></script>
</body>
</html>
